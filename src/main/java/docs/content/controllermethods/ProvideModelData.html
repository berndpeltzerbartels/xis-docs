<xis:template xmlns:xis="http://www.w3.org/1999/XSL/Transform">
    <h3>${chapterHeadline}</h3>
    <p>XIS provides several ways to make data available in your templates. Each method serves a specific purpose
        in the request lifecycle.</p>

    <h5>@ModelData - Provide Data from Controller</h5>
    <p>Methods annotated with <code>@ModelData</code> return values that become template variables. The method name
        (or annotation value) becomes the variable name.</p>
    <xis:raw>
        <pre><code>@ModelData
User currentUser() {
    return userService.findById(userId);
}

@ModelData("products")
List&lt;Product&gt; loadProducts() {
    return productService.findAll();
}</code></pre>
        <p><strong>Template:</strong></p>
        <pre><code>&lt;p&gt;Welcome ${currentUser.name}&lt;/p&gt;
&lt;xis:foreach array="${products}" var="product"&gt;
    &lt;div&gt;${product.title}&lt;/div&gt;
&lt;/xis:foreach&gt;</code></pre>
    </xis:raw>

    <h5>@FormData - Bind Form Submissions</h5>
    <p>Form data is automatically bound to POJOs and made available as template variables.</p>
    <xis:raw>
        <pre><code>@FormData("user")
UserForm userForm;

@Action
void saveUser() {
    userService.save(userForm);
}</code></pre>
        <p><strong>Template:</strong></p>
        <pre><code>&lt;input type="text" name="user.name" value="${user.name}"/&gt;
&lt;input type="email" name="user.email" value="${user.email}"/&gt;</code></pre>
    </xis:raw>

    <h5>@ActionParameter - Pass Parameters from Template</h5>
    <p>Actions can receive parameters passed from the template via <code>&lt;xis:parameter&gt;</code> tags.</p>
    <xis:raw>
        <pre><code>@Action
void selectOption(@ActionParameter("optionId") String optionId) {
    selectedOption = optionId;
}</code></pre>
        <p><strong>Template:</strong></p>
        <pre><code>&lt;button xis:action="selectOption"&gt;
    &lt;xis:parameter name="optionId" value="${option.id}"/&gt;
    Select
&lt;/button&gt;</code></pre>
    </xis:raw>

    <h5>@WidgetParameter - Pass Data to Widgets</h5>
    <p>Widgets can receive parameters via widget links.</p>
    <xis:raw>
        <pre><code>@Widget
class ProductList {
    @WidgetParameter("categoryId")
    String categoryId;
    
    @ModelData
    List&lt;Product&gt; products() {
        return productService.findByCategory(categoryId);
    }
}</code></pre>
        <p><strong>Template:</strong></p>
        <pre><code>&lt;a xis:widget="ProductList"&gt;
    &lt;xis:parameter name="categoryId" value="${category.id}"/&gt;
    Show Products
&lt;/a&gt;</code></pre>
    </xis:raw>

    <h5>@QueryParameter / @PathVariable - URL Parameters</h5>
    <p>Extract values from the URL query string or path.</p>
    <xis:raw>
        <pre><code>@Page("/product/{id}.html")
class ProductPage {
    @PathVariable("id")
    String productId;
    
    @QueryParameter("view")
    String viewMode;
    
    @ModelData
    Product product() {
        return productService.findById(productId);
    }
}</code></pre>
        <p><strong>URL:</strong> <code>/product/123.html?view=detailed</code></p>
    </xis:raw>

    <h5>@GlobalVariable - Share Data Across Components</h5>
    <p>Reactive variables shared across all components during a request. Changes trigger automatic updates.</p>
    <xis:raw>
        <pre><code>@GlobalVariable("currentUser")
User user;</code></pre>
        <p><strong>Template:</strong> <code>${currentUser.name}</code></p>
    </xis:raw>

    <h5>@ClientStorage / @LocalStorage - Browser Storage</h5>
    <p>Reactive variables persisted in browser storage. <code>@ClientStorage</code> uses sessionStorage (per tab),
        <code>@LocalStorage</code> uses localStorage (persistent).</p>
    <xis:raw>
        <pre><code>@ClientStorage("selectedTab")
String activeTab;

@LocalStorage("userTheme")
String theme;</code></pre>
        <p><strong>Template:</strong> <code>${selectedTab}</code>, <code>${userTheme}</code></p>
    </xis:raw>

    <h5>@RequestScope - Share Between Methods</h5>
    <p>Share data between controller methods during a single request.</p>
    <xis:raw>
        <pre><code>@RequestScope("user")
User currentUser;

@ModelData
void loadUser() {
    currentUser = userService.findById(userId);
}

@Action
void updateUser() {
    // currentUser is available here
    userService.update(currentUser);
}</code></pre>
    </xis:raw>

    <p><strong>Note:</strong> All these mechanisms can be combined in a single controller. See the detailed
        documentation for each annotation for more advanced usage patterns.</p>

    <div class="warning">
        <strong>Security Note:</strong> All data provided to templates is transferred to the client and rendered
        in the browser. Model objects, form-data and parameters must not contain
        sensitive information such as passwords, internal IDs, authentication tokens, or other confidential data.
        All data is visible in the script-debugger of browser.
        Only expose data that is safe for client-side visibility.
    </div>


</xis:template>