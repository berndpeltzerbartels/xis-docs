<xis:template xmlns:xis="http://www.w3.org/1999/XSL/Transform">
    <h3>${chapterHeadline}</h3>
    <p>Form submissions trigger <code>@Action</code> methods just like button clicks. Understanding form action 
        behavior helps you create effective form workflows.</p>

    <h5>Basic Form Submission</h5>
    <p>Use <code>xis:action</code> attribute on the form element to specify which action to call:</p>
    <xis:raw>
        <pre><code>@Action
void saveUser() {
    userService.save(userForm);
}</code></pre>
        <p><strong>Template:</strong></p>
        <pre><code>&lt;form xis:action="saveUser"&gt;
    &lt;input type="text" name="user.name" value="${user.name}"/&gt;
    &lt;button type="submit"&gt;Save&lt;/button&gt;
&lt;/form&gt;</code></pre>
    </xis:raw>

    <h5>Multiple Submit Buttons</h5>
    <p>A form can have multiple submit buttons, each triggering different actions:</p>
    <xis:raw>
        <pre><code>@Action
void saveDraft() {
    document.status = Status.DRAFT;
    documentService.save(document);
}

@Action
void publish() {
    document.status = Status.PUBLISHED;
    documentService.save(document);
}</code></pre>
        <p><strong>Template:</strong></p>
        <pre><code>&lt;form&gt;
    &lt;input type="text" name="document.title" value="${document.title}"/&gt;
    &lt;textarea name="document.content"&gt;${document.content}&lt;/textarea&gt;
    
    &lt;button type="submit" xis:action="saveDraft"&gt;Save Draft&lt;/button&gt;
    &lt;button type="submit" xis:action="publish"&gt;Publish&lt;/button&gt;
&lt;/form&gt;</code></pre>
        <p><strong>Note:</strong> When <code>xis:action</code> is on the button, it overrides the form's action.</p>
    </xis:raw>

    <h5>Form Actions with Navigation</h5>
    <p>Return a page class or widget response to navigate after form submission:</p>
    <xis:raw>
        <pre><code>@Action
Class&lt;?&gt; saveAndContinue() {
    userService.save(userForm);
    return UserListPage.class;
}

@Action
void saveAndStay() {
    userService.save(userForm);
    // void = stay on current page/widget
}</code></pre>
    </xis:raw>

    <h5>Form Actions with Update Events</h5>
    <p>Emit events to refresh other widgets after form submission:</p>
    <xis:raw>
        <pre><code>@Action(value = "saveProduct", updateEventKeys = {"product-saved"})
void saveProduct() {
    productService.save(productForm);
    // Widgets listening for "product-saved" will refresh
}</code></pre>
    </xis:raw>

    <h5>Conditional Form Processing</h5>
    <p>Use action logic to handle different scenarios:</p>
    <xis:raw>
        <pre><code>@Action
Class&lt;?&gt; submitOrder() {
    ValidationResult result = orderValidator.validate(orderForm);
    
    if (!result.isValid()) {
        this.errors = result.getErrors();
        return null; // Stay on form to show errors
    }
    
    orderService.create(orderForm);
    return OrderConfirmationPage.class;
}</code></pre>
    </xis:raw>

    <h5>Form Actions with Parameters</h5>
    <p>Combine form data with action parameters for flexible workflows:</p>
    <xis:raw>
        <pre><code>@Action
void saveAndNext(@ActionParameter("nextStep") String nextStep) {
    wizardService.save(currentStep, wizardForm);
    this.currentStep = nextStep;
}</code></pre>
        <p><strong>Template:</strong></p>
        <pre><code>&lt;form xis:action="saveAndNext"&gt;
    &lt;input type="text" name="wizard.companyName" value="${wizard.companyName}"/&gt;
    &lt;button type="submit"&gt;
        &lt;xis:parameter name="nextStep" value="address"/&gt;
        Next: Address
    &lt;/button&gt;
&lt;/form&gt;</code></pre>
    </xis:raw>

    <h5>Cancel Buttons</h5>
    <p>Use regular links or buttons without <code>type="submit"</code> for cancel actions:</p>
    <xis:raw>
        <pre><code>&lt;form xis:action="saveUser"&gt;
    &lt;!-- form fields --&gt;
    &lt;button type="submit"&gt;Save&lt;/button&gt;
    &lt;a xis:page="UserListPage"&gt;Cancel&lt;/a&gt;
&lt;/form&gt;</code></pre>
    </xis:raw>

    <h5>Form Submission Behavior</h5>
    <p>Understanding how XIS processes form submissions:</p>
    <xis:raw>
        <ol>
            <li>User clicks submit button</li>
            <li>Form data is collected from all input fields</li>
            <li><code>@FormData</code> objects are populated via data binding</li>
            <li>The specified <code>@Action</code> method is executed</li>
            <li>Navigation occurs based on the action's return value</li>
            <li>If staying on the same page/widget, <code>@ModelData</code> methods refresh</li>
        </ol>
    </xis:raw>

    <p><strong>Note:</strong> XIS handles form submission via JavaScript, preventing full page reloads. This enables 
        seamless widget-based forms without traditional page refresh behavior.</p>
</xis:template>